diff --git a/node_modules/react-sanctum/build/Sanctum.d.ts b/node_modules/react-sanctum/build/Sanctum.d.ts
index d55953f..2699e23 100644
--- a/node_modules/react-sanctum/build/Sanctum.d.ts
+++ b/node_modules/react-sanctum/build/Sanctum.d.ts
@@ -1,7 +1,9 @@
+import { AxiosInstance } from "axios";
 import * as React from "react";
 interface Props {
     config: {
         api_url: string;
+        axios_instance?: AxiosInstance;
         csrf_cookie_route: string;
         signin_route: string;
         signout_route: string;
@@ -17,6 +19,7 @@ declare class Sanctum extends React.Component<Props, State> {
     static defaultProps: {
         checkOnInit: boolean;
     };
+    axios: AxiosInstance;
     constructor(props: Props);
     signIn(email: string, password: string, remember?: boolean): Promise<{}>;
     signOut(): Promise<unknown>;
diff --git a/node_modules/react-sanctum/build/index.cjs.ts b/node_modules/react-sanctum/build/index.cjs.ts
index 07b17c5..3fbb95f 100644
--- a/node_modules/react-sanctum/build/index.cjs.ts
+++ b/node_modules/react-sanctum/build/index.cjs.ts
@@ -2,8 +2,8 @@
 
 Object.defineProperty(exports, '__esModule', { value: true });
 
-var React = require('react');
 var axios = require('axios');
+var React = require('react');
 var invariant = require('tiny-invariant');
 
 function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
@@ -100,6 +100,7 @@ var Sanctum = /** @class */ (function (_super) {
             user: null,
             authenticated: null,
         };
+        _this.axios = props.config.axios_instance || axios__default['default'].create();
         _this.signIn = _this.signIn.bind(_this);
         _this.signOut = _this.signOut.bind(_this);
         _this.setUser = _this.setUser.bind(_this);
@@ -117,12 +118,12 @@ var Sanctum = /** @class */ (function (_super) {
                     case 0:
                         _a.trys.push([0, 4, , 5]);
                         // Get CSRF cookie.
-                        return [4 /*yield*/, axios__default['default'].get(api_url + "/" + csrf_cookie_route)];
+                        return [4 /*yield*/, this.axios.get(api_url + "/" + csrf_cookie_route)];
                     case 1:
                         // Get CSRF cookie.
                         _a.sent();
                         // Sign in.
-                        return [4 /*yield*/, axios__default['default'].post(api_url + "/" + signin_route, {
+                        return [4 /*yield*/, this.axios.post(api_url + "/" + signin_route, {
                                 email: email,
                                 password: password,
                                 remember: remember ? true : null,
@@ -130,7 +131,7 @@ var Sanctum = /** @class */ (function (_super) {
                     case 2:
                         // Sign in.
                         _a.sent();
-                        return [4 /*yield*/, axios__default['default'].get(api_url + "/" + user_object_route)];
+                        return [4 /*yield*/, this.axios.get(api_url + "/" + user_object_route)];
                     case 3:
                         data = (_a.sent()).data;
                         this.setState({ user: data, authenticated: true });
@@ -152,12 +153,12 @@ var Sanctum = /** @class */ (function (_super) {
                 switch (_a.label) {
                     case 0:
                         _a.trys.push([0, 2, , 3]);
-                        return [4 /*yield*/, axios__default['default'].post(api_url + "/" + signout_route)];
+                        return [4 /*yield*/, this.axios.post(api_url + "/" + signout_route)];
                     case 1:
                         _a.sent();
                         // Only sign out after the server has successfully responded.
                         this.setState({ user: null, authenticated: false });
-                        resolve();
+                        resolve(undefined);
                         return [3 /*break*/, 3];
                     case 2:
                         error_2 = _a.sent();
@@ -183,7 +184,7 @@ var Sanctum = /** @class */ (function (_super) {
                         _a.label = 1;
                     case 1:
                         _a.trys.push([1, 3, , 4]);
-                        return [4 /*yield*/, axios__default['default'].get(api_url + "/" + user_object_route)];
+                        return [4 /*yield*/, this.axios.get(api_url + "/" + user_object_route)];
                     case 2:
                         data = (_a.sent()).data;
                         this.setState({ user: data, authenticated: true });
diff --git a/node_modules/react-sanctum/build/index.cjs.ts.map b/node_modules/react-sanctum/build/index.cjs.ts.map
index 4b09ab0..e39c8f3 100644
--- a/node_modules/react-sanctum/build/index.cjs.ts.map
+++ b/node_modules/react-sanctum/build/index.cjs.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.cjs.ts","sources":["../src/SanctumContext.tsx","../src/Sanctum.tsx","../src/withSanctum.tsx"],"sourcesContent":["import * as React from \"react\";\n\nexport interface ContextProps {\n  user: null | any;\n  authenticated: null | boolean;\n  signIn: (email: string, password: string, remember?: boolean) => Promise<{}>;\n  signOut: () => void;\n  setUser: (user: object, authenticated?: boolean) => void;\n  checkAuthentication: () => Promise<boolean>;\n}\n\nconst SanctumContext = React.createContext<Partial<ContextProps>>({});\n\nexport default SanctumContext;\n","import * as React from \"react\";\nimport axios from \"axios\";\nimport SanctumContext from \"./SanctumContext\";\n\naxios.defaults.withCredentials = true;\n\ninterface Props {\n  config: {\n    api_url: string;\n    csrf_cookie_route: string;\n    signin_route: string;\n    signout_route: string;\n    user_object_route: string;\n  };\n  checkOnInit?: boolean;\n}\n\ninterface State {\n  user: null | {};\n  authenticated: null | boolean;\n}\n\nclass Sanctum extends React.Component<Props, State> {\n  static defaultProps = {\n    checkOnInit: true,\n  };\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      user: null,\n      authenticated: null,\n    };\n\n    this.signIn = this.signIn.bind(this);\n    this.signOut = this.signOut.bind(this);\n    this.setUser = this.setUser.bind(this);\n    this.checkAuthentication = this.checkAuthentication.bind(this);\n  }\n\n  signIn(\n    email: string,\n    password: string,\n    remember: boolean = false\n  ): Promise<{}> {\n    const {\n      api_url,\n      csrf_cookie_route,\n      signin_route,\n      user_object_route,\n    } = this.props.config;\n\n    return new Promise(async (resolve, reject) => {\n      try {\n        // Get CSRF cookie.\n        await axios.get(`${api_url}/${csrf_cookie_route}`);\n        // Sign in.\n        await axios.post(`${api_url}/${signin_route}`, {\n          email,\n          password,\n          remember: remember ? true : null,\n        });\n        // When correct, get the user data.\n        const { data } = await axios.get(`${api_url}/${user_object_route}`);\n        this.setState({ user: data, authenticated: true });\n        return resolve(data);\n      } catch (error) {\n        return reject(error);\n      }\n    });\n  }\n\n  signOut() {\n    const { api_url, signout_route } = this.props.config;\n    return new Promise(async (resolve, reject) => {\n      try {\n        await axios.post(`${api_url}/${signout_route}`);\n        // Only sign out after the server has successfully responded.\n        this.setState({ user: null, authenticated: false });\n        resolve();\n      } catch (error) {\n        return reject(error);\n      }\n    });\n  }\n\n  setUser(user: object, authenticated: boolean = true) {\n    this.setState({ user, authenticated });\n  }\n\n  checkAuthentication(): Promise<boolean> {\n    const { api_url, user_object_route } = this.props.config;\n    return new Promise(async (resolve, reject) => {\n      if (this.state.authenticated === null) {\n        // The status is null if we haven't checked it, so we have to make a request.\n        try {\n          const { data } = await axios.get(`${api_url}/${user_object_route}`);\n          this.setState({ user: data, authenticated: true });\n          return resolve(true);\n        } catch (error) {\n          if (error.response && error.response.status === 401) {\n            // If there's a 401 error the user is not signed in.\n            this.setState({ user: null, authenticated: false });\n            return resolve(false);\n          } else {\n            // If there's any other error, something has gone wrong.\n            return reject(error);\n          }\n        }\n      } else {\n        // If it has been checked with the server before, we can just return the state.\n        return resolve(this.state.authenticated);\n      }\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.checkOnInit) {\n      this.checkAuthentication();\n    }\n  }\n\n  render() {\n    return (\n      <SanctumContext.Provider\n        children={this.props.children || null}\n        value={{\n          user: this.state.user,\n          authenticated: this.state.authenticated,\n          signIn: this.signIn,\n          signOut: this.signOut,\n          setUser: this.setUser,\n          checkAuthentication: this.checkAuthentication,\n        }}\n      />\n    );\n  }\n}\n\nexport default Sanctum;\n","import * as React from \"react\";\nimport invariant from \"tiny-invariant\";\n\nimport SanctumContext from \"./SanctumContext\";\n\nconst withSanctum = (Component: React.ComponentType<any>) => {\n  const displayName = `withSanctum(${Component.displayName || Component.name})`;\n\n  const C = (props: any) => {\n    return (\n      <SanctumContext.Consumer>\n        {(context) => {\n          invariant(\n            context,\n            `You should not use <${displayName} /> outside a <Sanctum>`\n          );\n          return <Component {...props} {...context} />;\n        }}\n      </SanctumContext.Consumer>\n    );\n  };\n\n  C.displayName = displayName;\n\n  return C;\n};\n\nexport default withSanctum;\n"],"names":["React.createContext","axios","React.createElement","React.Component","invariant"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index.cjs.ts","sources":["../src/SanctumContext.tsx","../src/Sanctum.tsx","../src/withSanctum.tsx"],"sourcesContent":["import * as React from \"react\";\n\nexport interface ContextProps {\n  user: null | any;\n  authenticated: null | boolean;\n  signIn: (email: string, password: string, remember?: boolean) => Promise<{}>;\n  signOut: () => void;\n  setUser: (user: object, authenticated?: boolean) => void;\n  checkAuthentication: () => Promise<boolean>;\n}\n\nconst SanctumContext = React.createContext<Partial<ContextProps>>({});\n\nexport default SanctumContext;\n","import axios, { AxiosInstance } from \"axios\";\nimport * as React from \"react\";\nimport SanctumContext from \"./SanctumContext\";\n\naxios.defaults.withCredentials = true;\n\ninterface Props {\n  config: {\n    api_url: string;\n    axios_instance?: AxiosInstance;\n    csrf_cookie_route: string;\n    signin_route: string;\n    signout_route: string;\n    user_object_route: string;\n  };\n  checkOnInit?: boolean;\n}\n\ninterface State {\n  user: null | {};\n  authenticated: null | boolean;\n}\n\nclass Sanctum extends React.Component<Props, State> {\n  static defaultProps = {\n    checkOnInit: true,\n  };\n\n  axios: AxiosInstance;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      user: null,\n      authenticated: null,\n    };\n\n    this.axios = props.config.axios_instance || axios.create();\n    this.signIn = this.signIn.bind(this);\n    this.signOut = this.signOut.bind(this);\n    this.setUser = this.setUser.bind(this);\n    this.checkAuthentication = this.checkAuthentication.bind(this);\n  }\n\n  signIn(\n    email: string,\n    password: string,\n    remember: boolean = false\n  ): Promise<{}> {\n    const {\n      api_url,\n      csrf_cookie_route,\n      signin_route,\n      user_object_route,\n    } = this.props.config;\n\n    return new Promise(async (resolve, reject) => {\n      try {\n        // Get CSRF cookie.\n        await this.axios.get(`${api_url}/${csrf_cookie_route}`);\n        // Sign in.\n        await this.axios.post(`${api_url}/${signin_route}`, {\n          email,\n          password,\n          remember: remember ? true : null,\n        });\n        // When correct, get the user data.\n        const { data } = await this.axios.get(\n          `${api_url}/${user_object_route}`\n        );\n        this.setState({ user: data, authenticated: true });\n        return resolve(data);\n      } catch (error) {\n        return reject(error);\n      }\n    });\n  }\n\n  signOut() {\n    const { api_url, signout_route } = this.props.config;\n    return new Promise(async (resolve, reject) => {\n      try {\n        await this.axios.post(`${api_url}/${signout_route}`);\n        // Only sign out after the server has successfully responded.\n        this.setState({ user: null, authenticated: false });\n        resolve(undefined);\n      } catch (error) {\n        return reject(error);\n      }\n    });\n  }\n\n  setUser(user: object, authenticated: boolean = true) {\n    this.setState({ user, authenticated });\n  }\n\n  checkAuthentication(): Promise<boolean> {\n    const { api_url, user_object_route } = this.props.config;\n    return new Promise(async (resolve, reject) => {\n      if (this.state.authenticated === null) {\n        // The status is null if we haven't checked it, so we have to make a request.\n        try {\n          const { data } = await this.axios.get(\n            `${api_url}/${user_object_route}`\n          );\n          this.setState({ user: data, authenticated: true });\n          return resolve(true);\n        } catch (error) {\n          if (error.response && error.response.status === 401) {\n            // If there's a 401 error the user is not signed in.\n            this.setState({ user: null, authenticated: false });\n            return resolve(false);\n          } else {\n            // If there's any other error, something has gone wrong.\n            return reject(error);\n          }\n        }\n      } else {\n        // If it has been checked with the server before, we can just return the state.\n        return resolve(this.state.authenticated);\n      }\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.checkOnInit) {\n      this.checkAuthentication();\n    }\n  }\n\n  render() {\n    return (\n      <SanctumContext.Provider\n        children={this.props.children || null}\n        value={{\n          user: this.state.user,\n          authenticated: this.state.authenticated,\n          signIn: this.signIn,\n          signOut: this.signOut,\n          setUser: this.setUser,\n          checkAuthentication: this.checkAuthentication,\n        }}\n      />\n    );\n  }\n}\n\nexport default Sanctum;\n","import * as React from \"react\";\nimport invariant from \"tiny-invariant\";\n\nimport SanctumContext from \"./SanctumContext\";\n\nconst withSanctum = (Component: React.ComponentType<any>) => {\n  const displayName = `withSanctum(${Component.displayName || Component.name})`;\n\n  const C = (props: any) => {\n    return (\n      <SanctumContext.Consumer>\n        {(context) => {\n          invariant(\n            context,\n            `You should not use <${displayName} /> outside a <Sanctum>`\n          );\n          return <Component {...props} {...context} />;\n        }}\n      </SanctumContext.Consumer>\n    );\n  };\n\n  C.displayName = displayName;\n\n  return C;\n};\n\nexport default withSanctum;\n"],"names":["React.createContext","axios","React.createElement","React.Component","invariant"],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/react-sanctum/build/index.esm.js b/node_modules/react-sanctum/build/index.esm.js
index 94a4363..38aa778 100644
--- a/node_modules/react-sanctum/build/index.esm.js
+++ b/node_modules/react-sanctum/build/index.esm.js
@@ -1,5 +1,5 @@
-import { createContext, createElement, Component } from 'react';
 import axios from 'axios';
+import { createContext, createElement, Component } from 'react';
 import invariant from 'tiny-invariant';
 
 /*! *****************************************************************************
@@ -91,6 +91,7 @@ var Sanctum = /** @class */ (function (_super) {
             user: null,
             authenticated: null,
         };
+        _this.axios = props.config.axios_instance || axios.create();
         _this.signIn = _this.signIn.bind(_this);
         _this.signOut = _this.signOut.bind(_this);
         _this.setUser = _this.setUser.bind(_this);
@@ -108,12 +109,12 @@ var Sanctum = /** @class */ (function (_super) {
                     case 0:
                         _a.trys.push([0, 4, , 5]);
                         // Get CSRF cookie.
-                        return [4 /*yield*/, axios.get(api_url + "/" + csrf_cookie_route)];
+                        return [4 /*yield*/, this.axios.get(api_url + "/" + csrf_cookie_route)];
                     case 1:
                         // Get CSRF cookie.
                         _a.sent();
                         // Sign in.
-                        return [4 /*yield*/, axios.post(api_url + "/" + signin_route, {
+                        return [4 /*yield*/, this.axios.post(api_url + "/" + signin_route, {
                                 email: email,
                                 password: password,
                                 remember: remember ? true : null,
@@ -121,7 +122,7 @@ var Sanctum = /** @class */ (function (_super) {
                     case 2:
                         // Sign in.
                         _a.sent();
-                        return [4 /*yield*/, axios.get(api_url + "/" + user_object_route)];
+                        return [4 /*yield*/, this.axios.get(api_url + "/" + user_object_route)];
                     case 3:
                         data = (_a.sent()).data;
                         this.setState({ user: data, authenticated: true });
@@ -143,12 +144,12 @@ var Sanctum = /** @class */ (function (_super) {
                 switch (_a.label) {
                     case 0:
                         _a.trys.push([0, 2, , 3]);
-                        return [4 /*yield*/, axios.post(api_url + "/" + signout_route)];
+                        return [4 /*yield*/, this.axios.post(api_url + "/" + signout_route)];
                     case 1:
                         _a.sent();
                         // Only sign out after the server has successfully responded.
                         this.setState({ user: null, authenticated: false });
-                        resolve();
+                        resolve(undefined);
                         return [3 /*break*/, 3];
                     case 2:
                         error_2 = _a.sent();
@@ -174,7 +175,7 @@ var Sanctum = /** @class */ (function (_super) {
                         _a.label = 1;
                     case 1:
                         _a.trys.push([1, 3, , 4]);
-                        return [4 /*yield*/, axios.get(api_url + "/" + user_object_route)];
+                        return [4 /*yield*/, this.axios.get(api_url + "/" + user_object_route)];
                     case 2:
                         data = (_a.sent()).data;
                         this.setState({ user: data, authenticated: true });
diff --git a/node_modules/react-sanctum/build/index.esm.js.map b/node_modules/react-sanctum/build/index.esm.js.map
index 5892b6f..fb7180a 100644
--- a/node_modules/react-sanctum/build/index.esm.js.map
+++ b/node_modules/react-sanctum/build/index.esm.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.esm.js","sources":["../src/SanctumContext.tsx","../src/Sanctum.tsx","../src/withSanctum.tsx"],"sourcesContent":["import * as React from \"react\";\n\nexport interface ContextProps {\n  user: null | any;\n  authenticated: null | boolean;\n  signIn: (email: string, password: string, remember?: boolean) => Promise<{}>;\n  signOut: () => void;\n  setUser: (user: object, authenticated?: boolean) => void;\n  checkAuthentication: () => Promise<boolean>;\n}\n\nconst SanctumContext = React.createContext<Partial<ContextProps>>({});\n\nexport default SanctumContext;\n","import * as React from \"react\";\nimport axios from \"axios\";\nimport SanctumContext from \"./SanctumContext\";\n\naxios.defaults.withCredentials = true;\n\ninterface Props {\n  config: {\n    api_url: string;\n    csrf_cookie_route: string;\n    signin_route: string;\n    signout_route: string;\n    user_object_route: string;\n  };\n  checkOnInit?: boolean;\n}\n\ninterface State {\n  user: null | {};\n  authenticated: null | boolean;\n}\n\nclass Sanctum extends React.Component<Props, State> {\n  static defaultProps = {\n    checkOnInit: true,\n  };\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      user: null,\n      authenticated: null,\n    };\n\n    this.signIn = this.signIn.bind(this);\n    this.signOut = this.signOut.bind(this);\n    this.setUser = this.setUser.bind(this);\n    this.checkAuthentication = this.checkAuthentication.bind(this);\n  }\n\n  signIn(\n    email: string,\n    password: string,\n    remember: boolean = false\n  ): Promise<{}> {\n    const {\n      api_url,\n      csrf_cookie_route,\n      signin_route,\n      user_object_route,\n    } = this.props.config;\n\n    return new Promise(async (resolve, reject) => {\n      try {\n        // Get CSRF cookie.\n        await axios.get(`${api_url}/${csrf_cookie_route}`);\n        // Sign in.\n        await axios.post(`${api_url}/${signin_route}`, {\n          email,\n          password,\n          remember: remember ? true : null,\n        });\n        // When correct, get the user data.\n        const { data } = await axios.get(`${api_url}/${user_object_route}`);\n        this.setState({ user: data, authenticated: true });\n        return resolve(data);\n      } catch (error) {\n        return reject(error);\n      }\n    });\n  }\n\n  signOut() {\n    const { api_url, signout_route } = this.props.config;\n    return new Promise(async (resolve, reject) => {\n      try {\n        await axios.post(`${api_url}/${signout_route}`);\n        // Only sign out after the server has successfully responded.\n        this.setState({ user: null, authenticated: false });\n        resolve();\n      } catch (error) {\n        return reject(error);\n      }\n    });\n  }\n\n  setUser(user: object, authenticated: boolean = true) {\n    this.setState({ user, authenticated });\n  }\n\n  checkAuthentication(): Promise<boolean> {\n    const { api_url, user_object_route } = this.props.config;\n    return new Promise(async (resolve, reject) => {\n      if (this.state.authenticated === null) {\n        // The status is null if we haven't checked it, so we have to make a request.\n        try {\n          const { data } = await axios.get(`${api_url}/${user_object_route}`);\n          this.setState({ user: data, authenticated: true });\n          return resolve(true);\n        } catch (error) {\n          if (error.response && error.response.status === 401) {\n            // If there's a 401 error the user is not signed in.\n            this.setState({ user: null, authenticated: false });\n            return resolve(false);\n          } else {\n            // If there's any other error, something has gone wrong.\n            return reject(error);\n          }\n        }\n      } else {\n        // If it has been checked with the server before, we can just return the state.\n        return resolve(this.state.authenticated);\n      }\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.checkOnInit) {\n      this.checkAuthentication();\n    }\n  }\n\n  render() {\n    return (\n      <SanctumContext.Provider\n        children={this.props.children || null}\n        value={{\n          user: this.state.user,\n          authenticated: this.state.authenticated,\n          signIn: this.signIn,\n          signOut: this.signOut,\n          setUser: this.setUser,\n          checkAuthentication: this.checkAuthentication,\n        }}\n      />\n    );\n  }\n}\n\nexport default Sanctum;\n","import * as React from \"react\";\nimport invariant from \"tiny-invariant\";\n\nimport SanctumContext from \"./SanctumContext\";\n\nconst withSanctum = (Component: React.ComponentType<any>) => {\n  const displayName = `withSanctum(${Component.displayName || Component.name})`;\n\n  const C = (props: any) => {\n    return (\n      <SanctumContext.Consumer>\n        {(context) => {\n          invariant(\n            context,\n            `You should not use <${displayName} /> outside a <Sanctum>`\n          );\n          return <Component {...props} {...context} />;\n        }}\n      </SanctumContext.Consumer>\n    );\n  };\n\n  C.displayName = displayName;\n\n  return C;\n};\n\nexport default withSanctum;\n"],"names":["React.createContext","React.createElement","React.Component"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index.esm.js","sources":["../src/SanctumContext.tsx","../src/Sanctum.tsx","../src/withSanctum.tsx"],"sourcesContent":["import * as React from \"react\";\n\nexport interface ContextProps {\n  user: null | any;\n  authenticated: null | boolean;\n  signIn: (email: string, password: string, remember?: boolean) => Promise<{}>;\n  signOut: () => void;\n  setUser: (user: object, authenticated?: boolean) => void;\n  checkAuthentication: () => Promise<boolean>;\n}\n\nconst SanctumContext = React.createContext<Partial<ContextProps>>({});\n\nexport default SanctumContext;\n","import axios, { AxiosInstance } from \"axios\";\nimport * as React from \"react\";\nimport SanctumContext from \"./SanctumContext\";\n\naxios.defaults.withCredentials = true;\n\ninterface Props {\n  config: {\n    api_url: string;\n    axios_instance?: AxiosInstance;\n    csrf_cookie_route: string;\n    signin_route: string;\n    signout_route: string;\n    user_object_route: string;\n  };\n  checkOnInit?: boolean;\n}\n\ninterface State {\n  user: null | {};\n  authenticated: null | boolean;\n}\n\nclass Sanctum extends React.Component<Props, State> {\n  static defaultProps = {\n    checkOnInit: true,\n  };\n\n  axios: AxiosInstance;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      user: null,\n      authenticated: null,\n    };\n\n    this.axios = props.config.axios_instance || axios.create();\n    this.signIn = this.signIn.bind(this);\n    this.signOut = this.signOut.bind(this);\n    this.setUser = this.setUser.bind(this);\n    this.checkAuthentication = this.checkAuthentication.bind(this);\n  }\n\n  signIn(\n    email: string,\n    password: string,\n    remember: boolean = false\n  ): Promise<{}> {\n    const {\n      api_url,\n      csrf_cookie_route,\n      signin_route,\n      user_object_route,\n    } = this.props.config;\n\n    return new Promise(async (resolve, reject) => {\n      try {\n        // Get CSRF cookie.\n        await this.axios.get(`${api_url}/${csrf_cookie_route}`);\n        // Sign in.\n        await this.axios.post(`${api_url}/${signin_route}`, {\n          email,\n          password,\n          remember: remember ? true : null,\n        });\n        // When correct, get the user data.\n        const { data } = await this.axios.get(\n          `${api_url}/${user_object_route}`\n        );\n        this.setState({ user: data, authenticated: true });\n        return resolve(data);\n      } catch (error) {\n        return reject(error);\n      }\n    });\n  }\n\n  signOut() {\n    const { api_url, signout_route } = this.props.config;\n    return new Promise(async (resolve, reject) => {\n      try {\n        await this.axios.post(`${api_url}/${signout_route}`);\n        // Only sign out after the server has successfully responded.\n        this.setState({ user: null, authenticated: false });\n        resolve(undefined);\n      } catch (error) {\n        return reject(error);\n      }\n    });\n  }\n\n  setUser(user: object, authenticated: boolean = true) {\n    this.setState({ user, authenticated });\n  }\n\n  checkAuthentication(): Promise<boolean> {\n    const { api_url, user_object_route } = this.props.config;\n    return new Promise(async (resolve, reject) => {\n      if (this.state.authenticated === null) {\n        // The status is null if we haven't checked it, so we have to make a request.\n        try {\n          const { data } = await this.axios.get(\n            `${api_url}/${user_object_route}`\n          );\n          this.setState({ user: data, authenticated: true });\n          return resolve(true);\n        } catch (error) {\n          if (error.response && error.response.status === 401) {\n            // If there's a 401 error the user is not signed in.\n            this.setState({ user: null, authenticated: false });\n            return resolve(false);\n          } else {\n            // If there's any other error, something has gone wrong.\n            return reject(error);\n          }\n        }\n      } else {\n        // If it has been checked with the server before, we can just return the state.\n        return resolve(this.state.authenticated);\n      }\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.checkOnInit) {\n      this.checkAuthentication();\n    }\n  }\n\n  render() {\n    return (\n      <SanctumContext.Provider\n        children={this.props.children || null}\n        value={{\n          user: this.state.user,\n          authenticated: this.state.authenticated,\n          signIn: this.signIn,\n          signOut: this.signOut,\n          setUser: this.setUser,\n          checkAuthentication: this.checkAuthentication,\n        }}\n      />\n    );\n  }\n}\n\nexport default Sanctum;\n","import * as React from \"react\";\nimport invariant from \"tiny-invariant\";\n\nimport SanctumContext from \"./SanctumContext\";\n\nconst withSanctum = (Component: React.ComponentType<any>) => {\n  const displayName = `withSanctum(${Component.displayName || Component.name})`;\n\n  const C = (props: any) => {\n    return (\n      <SanctumContext.Consumer>\n        {(context) => {\n          invariant(\n            context,\n            `You should not use <${displayName} /> outside a <Sanctum>`\n          );\n          return <Component {...props} {...context} />;\n        }}\n      </SanctumContext.Consumer>\n    );\n  };\n\n  C.displayName = displayName;\n\n  return C;\n};\n\nexport default withSanctum;\n"],"names":["React.createContext","React.createElement","React.Component"],"mappings":"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"}
\ No newline at end of file
